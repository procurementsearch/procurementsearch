@model SearchProcurement.Models.Agency
@{
    Layout = "~/Views/Shared/_Account.cshtml";
}

<div class="view-box">
    <img src="~/images/logo-100x100.png" alt="Procurement Search Logo">
    <h1>Setting up your Agency Buyer Account</h1>

    <p>
        Ready to start listing your agency's contracts, RFPs, and projects on
        ProcurementSearch.com?  You've come to the right place.  If you're an
        agency buyer, contract analyst, or anyone otherwise responsible for
        listing and maintaining your agency's RFPs and contract solicitations,
        you may set up an agency buyer account here.
    </p>

    <p>
        <span class="attention">Please note:  this account is for buyers,
        project managers, procurement analysts and managers, and anyone
        else who wants to post a contract, project, or RFP to ProcurementSearch.com.</span>
        If you're a vendor looking for opportunities, this is not the place where you'll
        set up your account.
    </p>

    <form class="pure-form pure-form-stacked" id="account" method="POST" action="/Agency/NewAccount">
    @Html.AntiForgeryToken()

        <fieldset>
            <legend>About You</legend>

            <p><i>Since you're the person setting up the account, we'd like to know a little about you.</i></p>

            <label asp-for="MyLogin.UserRealName"></label>
            <input asp-for="MyLogin.UserRealName" class="pure-u-23-24" placeholder="" required data-parsley-errors-messages-disabled="true">
            <span class="pure-form-message">This is a required field.</span>

            <label asp-for="MyLogin.UserEmailAddress"></label>
            <input asp-for="MyLogin.UserEmailAddress" class="pure-u-23-24" placeholder="" required data-parsley-errors-messages-disabled="true" data-parsley-type="email" data-parsley-remote="/Agency/checkEmail?email={value}">
            <span class="pure-form-message">This is a required field.</span>
        </fieldset>

        <p>
            After you've submitted this, watch out for an account confirmation email.
            It should arrive in the next few minutes.
        </p>

        <input type="hidden" name="logoData">
        <input type="hidden" name="logoName">
        <button type="submit" class="pure-button pure-button-primary">Sign Up</button>

    </form>

</div>




<script type="text/javascript">
$(function () {
  $('#account').parsley().on('field:validated', function() {
    if (this.validationResult === true) {
      this.$element.nextAll('.pure-form-message').first().removeClass('red');
    } else {
      this.$element.nextAll('.pure-form-message').first().addClass('red');
    }
  })
  .on('form:submit', function() {
    // return false; // Don't submit form for this demo
  });
});

</script>
